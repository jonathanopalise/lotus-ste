# Lotus STE

This project is at a very early stage and currently doesn't do anything of interest to end users.

Directory layout is as follows:

* `bin` - contains binary patches generated by means of compiling the code in `src`.
* `doc` - contains documentation pertaining to the reverse engineering efforts of the ST side
* `src` - contains the core source code to generate the code for use on the ST side
* `util` - contains utilities for use in reverse engineering efforts

Run `build.sh` to generate the binary patches for use on the ST side.

In order to test the current functionality of this project, you'll need a recent build of the Hatari emulator, configured as an STE with 1 meg of memory.

You'll also need a specific disk image of Lotus to apply the code to at runtime. The filename of this image is `Lotus Esprit Turbo Challenge (1990)(Gremlin)[cr Empire][a].st` and the md5sum is `942911068dd0a82debfba6d45d3370c4`.

Insert the above floppy image, boot the STE, start a race, and then enter the debugger. Enter the following commands to apply the patches:

* `loadbin /path/to/0x76678.bin 0x767ac`
* `loadbin /path/to/0x80000.bin 0x80000`

All this does at the moment is replace the road with alternating strips on colours, which happens to be rendered by the STE blitter. The initial goal of the project is to replace this with a road that more closely resembles that of the Amiga version.
